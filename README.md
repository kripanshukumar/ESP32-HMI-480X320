# Description:
The Digital Plant Growth Monitoring System is designed to intelligently monitor environmental parameters and control them for optimal plant growth. This system utilizes a 3.5-inch touch TFT display, with the ESP32 serving as the LCD controller, and the STM32F103 for capturing and transferring data from sensors to the ESP32. The sensors connected to the STM32F103 include a pH sensor, temperature sensor, TDS (Total Dissolved Solids) sensor, and water level sensor. The STM32F103 also controls output devices such as servos and LEDs. Communication between the ESP32 and the 3.5-inch TFT touch display occurs over a 16-bit bus clocked at 40 MHz, while communication between the ESP32 and the STM32F103 is achieved using UART.


# Components Used:
1. ORETG45 TDS Module Sensor: This component is an ORETG45 TDS (Total Dissolved Solids) module sensor used
for measuring the concentration of dissolved solids in a solution.
2. Arduino pH Sensor: The Arduino pH sensor is utilized for measuring the pH level of a liquid or solution.
3. 3.5-inch TFT Touch Display: This component is a 3.5-inch TFT (Thin-Film Transistor) touch display used for visualizing and interacting with the system's user interface.
4. Servo Motor: The servo motor is employed for controlling the movement of mechanical parts or devices based on signals received from the system.
5. DS18B20: The DS18B20 is a digital temperature sensor used for accurately measuring temperature.
6. RTC Sensor: A specialized component that accurately keeps track of time and date, even when the system is powered off.
7. ESP32: The ESP32 is a microcontroller unit (MCU) widely used for its Wi-Fi and Bluetooth capabilities, enabling wireless communication and connectivity.
8. STM32F103: The STM32F103 is a 32-bit microcontroller unit (MCU) used for various control and processing tasks within the system.

# Operation:
## ESP32:
* The main module ESP32 is connected with 3.5 inch TFT display using 16 bit parallel interface and with
STM32F103 uses UART to receive the data of the sensor connected to STM32F103.
* Initialization of ESP32 is done by setting the IO ports, serial communication device, SPIFFS file system, and the default home screen on the TFT display.
* 3.5 inc TFT is touch-compatible and employs a resistive touch panel on top of the display.
* The touch coordinates are calculated using the ADC sample taken by the output pin of the resistive
touch.
* GUI is made using a mixture of bitmaps (for icons) and general geometric figures for the rest of the
interface.
* In loop a task handler is constantly running which is shuffling between registering the touch inputs, serial data from STM32F103, the data to be updated on the display, water pump, led light intensity, and the servo motors.
## STM32F103:
* The STM controller has a total of three functions which include registering data from sensors,
communicating with ESP32 over UART, and operating the actuators (servo and led).
* The RTC sensor communicated over I2C with STM32.
The temperature sensor communicates with the STM32 over one wire communication scheme.
* Rest all the sensors produce analog outputs whose values can be used to produce the correct numerical
readings.
* The brightness of LEDs is controlled by the PWM wave generated by the timers of STM32.
* The servo motors are also actuated using PCM where the width of the pulse is 2000 us.
* Once the data is sampled from all the sensors, it is sent to ESP32 over UART.
* UART again is used by ESP32 to command the STM32 to change the behavior of actuators.

# Learnings/ Skills Gained:
* UART: In a UART communication system, data is transmitted bit by bit sequentially. It consists of a start bit, followed by the data bits (typically 7 or 8 bits), an optional parity bit for error checking, and one or more stop bits. The start bit indicates the beginning of a data frame, while the stop bit(s) provide a brief pause to mark its completion.
* One Wire Communication: Data transmission is achieved by manipulating the voltage level on the single data line. The data line is bidirectional and serves both for transmitting and receiving data. To send a bit, the transmitting device manipulates the voltage on the data line within a specified timing window.
* Pulse Code Modulation: In servo PCM, the desired position or speed of the servo motor is encoded as a series of pulse-width modulation (PWM) signals. The PCM signal consists of a series of pulses with varying widths, typically in the range of 1 to 2 milliseconds. The width of the pulses determines the position or speed at which the servo motor should operate.
* Pulse Width Modulation: To control the LED brightness using PWM, the LED is driven by a digital signal that switches between fully on and fully off states. By adjusting the duty cycle, which is the percentage of time the LED remains on during each cycle, the average perceived brightness of the LED can be controlled.
* ADC: By utilizing analog input capabilities and ADCs, microcontrollers can interface with a wide range of sensors that provide analog output, including temperature sensors, pressure sensors, light sensors, and many others.

# Project Videos and Images:

<p align="center"><img src="https://github.com/kripanshukumar/ESP32-HMI-480X320/blob/main/Images/Screenshot%202024-01-07%20164547.png" width=100% height=100%></p>

-	https://drive.google.com/file/d/1FITGZXTLwWNAK4C82rOHgqXL089H4v2d/view?usp=sharing
-	https://drive.google.com/file/d/15zcHdcqTvbIhBS1VdnZxhkKMezlzWQc0/view?usp=sharing
-	https://drive.google.com/file/d/1X8WyYMWMiUokOc96auWzZnq8mbzzM4oI/view?usp=sharing
-	https://drive.google.com/file/d/1--eMI4e7UKSmImL8PiOzS2aeK5VLGhKk/view?usp=sharing
-	https://drive.google.com/file/d/1PUWV37s5vRRdJRTI-J31Ic8RizdkfL3N/view?usp=sharing

# Schematics:

<p align="center"><img src="https://github.com/kripanshukumar/ESP32-HMI-480X320/blob/main/Schematics/plant%20UI_77.png" width=100% height=100%></p>
